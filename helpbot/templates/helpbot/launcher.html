<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Helpbot Launcher</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background-color: #f0f0f0;
      overflow: hidden;
      opacity: 0; /* Start hidden, fade in */
      animation: fadeIn 0.5s forwards;
    }
    #helpbot-icon {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background-color: #21548A;
      color: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      user-select: none;
      z-index: 1000;
      font-size: 24px;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }

    /* Fade animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
    .fade-out {
      animation: fadeOut 0.5s forwards;
    }
  </style>
</head>
<body>

  <div id="helpbot-icon">H</div>

  <script>
    const helpbotIcon = document.getElementById("helpbot-icon");

    helpbotIcon.addEventListener('mousedown', function(e) {
      let shiftX = e.clientX - helpbotIcon.getBoundingClientRect().left;
      let shiftY = e.clientY - helpbotIcon.getBoundingClientRect().top;

      function onMouseMove(e) {
        let newLeft = e.clientX - shiftX;
        let newTop = e.clientY - shiftY;
        const iconWidth = helpbotIcon.offsetWidth;
        const iconHeight = helpbotIcon.offsetHeight;
        const maxLeft = window.innerWidth - iconWidth;
        const maxTop = window.innerHeight - iconHeight;
        newLeft = Math.max(0, Math.min(newLeft, maxLeft));
        newTop = Math.max(0, Math.min(newTop, maxTop));

        helpbotIcon.style.bottom = "auto";
        helpbotIcon.style.right = "auto";
        helpbotIcon.style.left = newLeft + 'px';
        helpbotIcon.style.top = newTop + 'px';
      }

      document.addEventListener('mousemove', onMouseMove);

      document.addEventListener('mouseup', function onMouseUp() {
        document.removeEventListener('mousemove', onMouseMove);
        document.removeEventListener('mouseup', onMouseUp);
      });
    });

    helpbotIcon.ondragstart = function() {
      return false;
    };

    helpbotIcon.onclick = function() {
      document.body.classList.add('fade-out');
      setTimeout(() => {
        window.location.href = '/helpbot/';
      }, 500);
    };
  </script>

</body>
</html>
